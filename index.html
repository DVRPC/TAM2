<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Sample Web Mapplication">
    <meta name="author" content="DVRPC">
    <title>TAM2</title>
    
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <style>
      html,
      body {
        overflow-x: hidden; /* Prevent scroll on narrow devices */
      }
      body {
        position: absolute;
        top: 50px;
        bottom: 0;
        left: 0;
        right: 0;
      }
      body>.container {
        width: 100%;
        height: 100%;
        padding: 0;
      }
      body>.container>.row,
      body>.container>.row>.map-container,
      #map,
      #sidebar {
        height: 100%;
        padding: 0;
        margin: 0;
      }
      #sidebar {
        padding: 0 15px;
      }
      .btn-create {
        position: absolute;
        bottom: 0;
        right: 0;
        margin: 15px;
      }
      .leaflet-top-pane {
        pointer-events: none;
      }
      .offcanvas-btn {
        position: absolute;
        top: 0;
        right: 0;
      }
      .navbar-inverse {
        background-color: #6C943E;
        border-color: #92B569;
      }
      .navbar-inverse .navbar-brand,
      .navbar-inverse .navbar-nav>li>a {
        color: #fff;
      }
      .navbar-inverse .navbar-nav>.active>a,
      .navbar-inverse .navbar-nav>.active>a:hover,
      .navbar-inverse .navbar-nav>.active>a:focus {
        color: #eee;
        background-color: #92B569;
      }
      .navbar-brand>img {
        display: inline;
        margin: -15px 0;
      }
      /*
       * Off Canvas
       * --------------------------------------------------
       */
      @media screen and (max-width: 767px) {
        .row-offcanvas {
          position: relative;
          -webkit-transition: all .25s ease-out;
               -o-transition: all .25s ease-out;
                  transition: all .25s ease-out;
        }
        .row-offcanvas-right {
          right: 0;
        }
        .row-offcanvas-left {
          left: 0;
        }
        .row-offcanvas-right
        .sidebar-offcanvas {
          right: -50%; /* 6 columns */
        }
        .row-offcanvas-left
        .sidebar-offcanvas {
          left: -50%; /* 6 columns */
        }
        .row-offcanvas-right.active {
          right: 50%; /* 6 columns */
        }
        .row-offcanvas-left.active {
          left: 50%; /* 6 columns */
        }
        .sidebar-offcanvas {
          position: absolute;
          top: 0;
          width: 50%; /* 6 columns */
        }
      }
      .leaflet-label {
      	background: rgb(235, 235, 235);
      	background: rgba(235, 235, 235, 0.81);
      	background-clip: padding-box;
      	border-color: #777;
      	border-color: rgba(0,0,0,0.25);
      	border-radius: 4px;
      	border-style: solid;
      	border-width: 4px;
      	color: #111;
      	display: block;
      	font: 12px/20px "Helvetica Neue", Arial, Helvetica, sans-serif;
      	font-weight: bold;
      	padding: 1px 6px;
      	position: absolute;
      	-webkit-user-select: none;
      	   -moz-user-select: none;
      	    -ms-user-select: none;
      	        user-select: none;
      	pointer-events: none;
      	white-space: nowrap;
      	z-index: 6;
      }
      .leaflet-label.leaflet-clickable {
      	cursor: pointer;
      	pointer-events: auto;
      }
      .leaflet-label:before,
      .leaflet-label:after {
      	border-top: 6px solid transparent;
      	border-bottom: 6px solid transparent;
      	content: none;
      	position: absolute;
      	top: 5px;
      }
      .leaflet-label:before {
      	border-right: 6px solid black;
      	border-right-color: inherit;
      	left: -10px;
      }
      .leaflet-label:after {
      	border-left: 6px solid black;
      	border-left-color: inherit;
      	right: -10px;
      }
      .leaflet-label-right:before,
      .leaflet-label-left:after {
      	content: "";
      }
      .legend-control {
        box-shadow: 0 1px 5px rgba(0,0,0,0.4);
        background: #fff;
        border-radius: 5px;
        padding: 10px;
        background: #fff;
        line-height: 18px;
      }
      .leaflet-touch .legend-control {
        border: 2px solid rgba(0,0,0,0.2);
        background-clip: padding-box;
        box-shadow: none;
      }
      .legend-control i {
        width: 18px;
        height: 18px;
        float: left;
        display: block;
        clear: both;
        margin-right: 5px;
      }
      #modal-repair .form-group {
        margin-bottom: 0;
      }
    </style>
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img src="http://www.dvrpc.org/webmaps/tcdi/images/dvrpc_logo.png" height="40" width="121" alt="DVRPC"/> Transportation Asset Management <small>Last Modified: <span class="page-last-modified"></span></small></span></small></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a data-toggle="modal" href="#about">About</a></li>
            <li><a data-toggle="modal" href="#help">How to Use</a></li>
            <li><a data-toggle="modal" href="#contact">Contact</a></li>
            <li><a class="google-static-map-link" href="#" target="_blank">Print Map</a></li>
            <li><a data-toggle="modal" href="#edit">Edit Map</a></li>
          </ul>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </nav><!-- /.navbar -->

    <div class="container">

      <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9 map-container">
          <div id="map"></div>
          <div class="offcanvas-btn visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Show/Hide</button>
          </div>
        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
          <h2>Repair List</h2>
          <ul class="list-group list-repairs"></ul>
          <a href="#" class="btn btn-primary btn-create" download="TAM.csv">Create Spreadsheet</a>
        </div><!--/.sidebar-offcanvas-->
      </div><!--/row-->
    </div><!--/.container-->
    
    <div class="modal fade bs-example-modal-lg" id="modal-repair" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <form class="form-horizontal" role="form">
              <div class="form-group">
                <label class="col-sm-3 control-label">Road Segment</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Road Condition</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-condition"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Private Road</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-private"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Liquid Fuels Road</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-liquidfuels"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Federal Aid Eligible</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-federalaid"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Act 32 Turn Back</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-act32"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Road Owner</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-owner"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Municipality</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-mcd"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Road Type</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-road"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Surface Type</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-type"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Segment Length (miles)</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-length"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Cartway Width (ft)</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-cartway"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Segment Area (sq yd)</label>
                <div class="col-sm-9">
                  <p class="form-control-static property-road-segment-area"></p>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Repair Type(s)</label>
                <div class="col-sm-9">
                  <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                      Select Repair(s) <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu repair-type-list" role="menu">
                      <li role="presentation" class="dropdown-header">Area Repairs</li>
                      <li><a href="#">Maintenance and Protection of Traffic</a></li>
                      <li><a href="#">Milling</a></li>
                      <li><a href="#">Base Repair/Reconstruction</a></li>
                      <li><a href="#">Scratch Coat</a></li>
                      <li><a href="#">Oil and Chip</a></li>
                      <li><a href="#">Seal Coat</a></li>
                      <li><a href="#">Overlay/Resurfacing</a></li>
                      <li role="presentation" class="dropdown-header">Linear Repairs</li>
                      <li><a href="#">Shoulder Cut</a></li>
                      <li><a href="#">Double-Yellow Centerline</a></li>
                      <li><a href="#">Single-White Edge Line</a></li>
                      <li><a href="#">Crack Seal</a></li>
                      <li><a href="#">Guide Rail</a></li>
                    </ul>
                  </div>
                  <p class="help-block bg-info"></p>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary btn-submit-repair">Add to List</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="about">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">About</h4>
          </div>
          <div class="modal-body">
            <p class="lead">About Text</p>
            <p>This web page is a public resource of general information. The Delaware Valley Regional Planning Commission (DVRPC) makes no warranty, representation, or guarantee as to the content, sequence, accuracy, timeliness, or completeness of any of the spatial data or database information provided herein. DVRPC and partner state, local, and other agencies shall assume no liability for errors, omissions, or inaccuracies in the information provided regardless of how caused; or any decision made or action taken or not taken by any person relying on any information or data furnished within.</p>
          </div>
          <div class="modal-footer">
            <i class="pull-left">Last Modified: <span class="page-last-modified"></span></i>
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    
    <div class="modal fade" id="help">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">How to Use</h4>
          </div>
          <div class="modal-body">
            <p class="lead">Help Text</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    
    <div class="modal fade" id="contact">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Contact</h4>
          </div>
          <div class="modal-body">
            <address>
              <strong>Will Stevens</strong><br>
              Manager, Office of Geographic Information Systems<br>
              Delaware Valley Regional Planning Commission<br>
              <a href="mailto:wstevens@dvrpc.org">wstevens@dvrpc.org</a><br>
              <abbr title="Phone">P:</abbr> (215) 238-2835
            </address>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    
    <div class="modal fade" id="edit">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Log in to Edit Map</h4>
          </div>
          <div class="modal-body">
            <form class="form-horizontal" role="form">
              <div class="form-group">
                <label class="col-sm-3 control-label">Municipality</label>
                <div class="col-sm-9">
                  <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                      Select Municipality <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=f32da419fa614a819e6cc0ab333f4a58">New Hanover</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=44fdf373481f4afa9bd5fbd4af3295b0">Pottstown</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=ecfe61f5684e427b9fd140d4e1750585">Douglass</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=b23205a5091e4041849f6c66a711b0dd">East Coventry</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=a890d6ffbd4f4b168269e6c25185827b">Lower Pottsgrove</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=efdc68ac74534372af49f568f551e873">North Coventry</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=1cd58bd76f8e43a48841229249df0370">Upper Pottsgrove</a></li>
                      <li><a href="http://dvrpcgis.maps.arcgis.com/home/webmap/viewer.html?webmap=2e3d56c4c93a4b4a96e38462b6733303">West Pottsgrove</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">User</label>
                <div class="col-sm-9">
                  <input class="form-control" name="username"/>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Password</label>
                <div class="col-sm-9">
                  <input class="form-control" type="password" name="password"/>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-12">
                  <button type="submit" class="btn btn-primary pull-right">Sign In</button>
                </div>
              </div>
            </form>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script src="js/app.js"></script>
  </body>
</html>
